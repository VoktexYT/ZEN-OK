# Lock screen
exec swaylock -f

# sound system
exec pipewire
exec pipewire-pulse
exec wireplumber

# Gruvbox Dark colors
set $bg     #282828
set $fg     #ebdbb2
set $red    #cc241d
set $green  #98971a
set $yellow #d79921

set $blue   #458588
set $purple #b16286
set $aqua   #689d6a
set $gray   #a89984
set $orange #d65d0e

# Font
font pango:JetBrains Mono 10

# Mod key
set $mod Mod4

# Gaps
gaps inner 8
gaps outer 4

# Borders
default_border pixel 2
default_floating_border pixel 2

# Gruvbox window colors
#                       border  bg      text    indicator child_border
client.focused          $aqua   $aqua   $bg     $orange   $aqua
client.focused_inactive $gray   $gray   $bg     $gray     $gray
client.unfocused        $bg     $bg     $gray   $bg       $bg
client.urgent           $red    $red    $bg     $red      $red

# Wallpaper (optionnel, uni gruvbox)
output * bg $bg solid_color

# Workspaces
set $ws1 1
set $ws2 2
set $ws3 3
set $ws4 4

# Apps
bindsym $mod+t exec foot
bindsym $mod+Return exec foot
bindsym $mod+w exec qutebrowser
bindsym $mod+Shift+w exec iwgtk
bindsym $mod+n exec foot -e nvim 
bindsym $mod+d exec bemenu-run -i -l 10 -p '>' \
    --fn 'JetBrains Mono 11' \
    --tb '$bg' --fb '$bg' --nb '$bg' \
    --hb '$aqua' --tf '$fg' --ff '$fg' \
    --nf '$fg' --hf '$bg'

bindsym XF86MonBrightnessUp exec brightnessctl set +5%
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-

bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Microphone
bindsym XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Navigation vim-style
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move windows
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Workspaces
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4

bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4

# Fullscreen
bindsym $mod+f fullscreen toggle

# Kill
bindsym $mod+q kill

# Reload
bindsym $mod+r reload

# Exit
bindsym $mod+Shift+r exec loginctl reboot
bindsym $mod+Shift+o exec loginctl poweroff
bindsym $mod+Shift+x exec swaylock

# Waybar
bar {
    swaybar_command waybar
}

exec swayidle -w \
    timeout 60 'swaylock -f' \
    timeout 300 'swaymsg "output * dpms off"' \
    resume 'swaymsg "output * dpms on"' \
    before-sleep 'swaylock -f'
